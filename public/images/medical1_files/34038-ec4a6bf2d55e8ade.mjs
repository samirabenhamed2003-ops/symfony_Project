(self.modernJsonp=self.modernJsonp||[]).push([["34038"],{654471:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let n=r},176923:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let n=r},433100:function(e,t,i){i.d(t,{f:()=>b,l:()=>v});var r=i(667294),n=i(178226),o=i(735243),l=i(477738),a=i(148),s=i(252974),d=i(250182),c=i(655068),u=i(531624),p=i(515511),h=i(213491),f=i(360033),g=i(986475),m=i(640200),x=i(785893);let w=(e,t,i)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!r)return;let n=(0,g.Z)(m.Z,!0)(r),o=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[o]?e[o]=n:e.push(n)},y=(e,t,i,r)=>{let n=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(n?.action?.filter){let e=n.action.filter.filterOptions;n.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:_,get:v}=(0,h.Z)("OneBarProductFilters");function b({children:e}){let[t,i]=(0,r.useState)([]),[h,g]=(0,r.useState)(null),m=function(){let{scope:e}=(0,a.n)();return[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(e)}(),v=(0,u.Z)(),b=(0,d.Z)(),S=(0,n.Z)(),j=(0,o.Z)(),I=(0,c.Z)(),T=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let n=e?.filter(({module_type:e})=>17===e||0===e);if(!n||n?.length===0||!r)return;let o=r!==h,l=o?[]:t;(o||!m)&&w(l,n,4),(o||!v)&&w(l,n,1),(o||!b)&&w(l,n,0),(o||!S)&&w(l,n,3),(o||!j)&&w(l,n,6),(o||!I)&&[7,8,9].forEach(e=>{w(l,n,e)}),(0,f.ZP)(l,t)||(i(l),g(r))},[t,S,j,m,b,I,v,h]),P=(0,s.Z)(),{priceMax:Z,priceMin:F,scope:E,brands:k,onSale:C,colors:B,domains:L}=(0,a.n)();(0,r.useEffect)(()=>{if(!P||0===t.length)return;let e=(0,p.Z)(t);if(E!==l.lw.PINS){let t=(0,l.gi)(E),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof Z||"string"==typeof F){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(F)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(Z)}:null].filter(Boolean))}y(new Set([3]),k,"stringValue",e),y(new Set([6]),B,"stringValue",e),y(new Set([0]),L,"stringValue",e),y(new Set([7,8,9]),C,"numericValue",e),(0,f.ZP)(e,t)||i(e)},[t,P,Z,F,E,k,B,L,C]);let O=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:T}),[t,T]);return(0,x.jsx)(_,{value:O,children:e})}},704955:function(e,t,i){i.d(t,{Z:()=>l});var r=i(312048),n=i(954928),o=i(629724);function l(){let e=(0,r.TH)(),t=(0,r.s0)();return function(i){let r=(0,o.Z)();r.filter_location=i,t((0,n.Z)(e.pathname,r),{replace:!0})}}},332947:function(e,t,i){i.d(t,{Z:()=>p,q:()=>u});var r=i(312048),n=i(935059),o=i(501010),l=i(405897),a=i(477738),s=i(954928),d=i(629724),c=i(305375);let u=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function p(){let e=(0,r.s0)(),t=(0,r.TH)(),{checkExperiment:i}=(0,o.Z)(),{scope:p}=(0,c.Z)(),h=(0,n.Z)(),{isAuth:f}=h,g=f?h.country:"";return function(r){let n=(0,d.Z)();n.rs=l.i.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?n[e]=t:delete n[e]}),("US"===g||i("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&p!==a.lw.PINS&&!u.some(e=>"commerce_only"!==e&&e in n)&&delete n.commerce_only,e((0,s.Z)(t.pathname,n))}}},178226:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),n=i(575820);function o(){return!!(0,n.mB)((0,r.TH)().search).brands}},735243:function(e,t,i){i.d(t,{Z:()=>l});var r=i(312048),n=i(501010),o=i(575820);function l(){let{checkExperiment:e}=(0,n.Z)(),t=(0,r.TH)(),{colors:i}=(0,o.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,i){i.d(t,{Z:()=>n});var r=i(501010);function n(){let{checkExperiment:e}=(0,r.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),n=i(575820);function o(){return!!(0,n.mB)((0,r.TH)().search).domains}},531624:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),n=i(575820);function o(){let e=(0,r.TH)(),{price_max:t,price_min:i}=(0,n.mB)(e.search);return!!(i??t)}},446885:function(e,t,i){i.d(t,{Z:()=>f});var r=i(686659),n=i(667294),o=i(740097),l=i(759271),a=i(351736),s=i(440077),d=i(609252),c=i(178315),u=i(774838),p=i(40763),h=i(785893);function f({children:e,footerConfig:t,headerConfig:i,height:f,hideOnScroll:g,hideOnScrollState:{isHidden:m,updateHiddenState:x},isFooterHidden:w,noPadding:y,paddingX:_,paddingY:v=c.og,type:b,zIndex:S,isStoryPin:j}){let I,T;(0,n.useEffect)(()=>{(0,r.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:P,ignoreObstructions:Z,zIndexForGestaltBug:F}=i||{},{appUpsellFooterConfig:E,footerInLego:k,navFooterConfig:C}=t||{},B=!!E,L="header"===b?"top":"bottom",O=(0,a.vs)(),{isRTL:A}=(0,u.B)(),{mWebCloseupRedesignEnabled:R}=(0,l.Z)(),N=(0,n.useRef)(null),H=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!Z){let e=N.current;H.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,H.current instanceof HTMLElement&&d.Z.addObstruction(L,H.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!Z&&H.current instanceof HTMLElement&&d.Z.removeObstruction(L,H.current)}},[Z,P,L,O]);let z="top"===L?"relative":"fixed",D=y?0:v,M=(f??c.R$)+(i?.overrideTop||0),$=g||C?{transition:k||R?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||w?{transform:`translateY(${"top"===L?-M:M}px)`,opacity:k||R?0:1}:Object.freeze({})}:{},W=2*!("relative"!==z||i?.noGutter),K=W?-W:0,U=O?a.k7:"rgba(255,255,255,.95)";O&&("header"===b?I=-1:T=-1);let q=k?B?void 0:f??c.R$:"100%",Y=k?c.KJ:void 0,V=i?.isTranslucent&&U||O?U:s.Wmm,G=i?.isTransparentBackground&&s.Wyp?s.Wyp:V,X=(0,n.useMemo)(()=>({height:"footer"===b&&R?`calc(${q} + env(safe-area-inset-bottom))`:q,...R&&"footer"===b?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(D||0)}px)`}:Object.freeze({})}),[R,q,b,D]),J=(0,p.Z)({skipExpActivation:!0});return(0,h.jsx)(o.xu,{ref:N,bottom:"footer"===b,dangerouslySetInlineStyle:{__style:{top:I,bottomStyle:T,...!S||F?{zIndex:F||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...i?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...$}},"data-test-id":b,display:B?"flex":void 0,height:f&&!k?f:void 0,left:!0,marginEnd:k?"auto":K,marginStart:k?"auto":K,onTransitionEnd:()=>{(g||C)&&H.current&&(m||w?d.Z.removeObstruction(L,H.current):d.Z.addObstruction(L,H.current))},position:z,right:!0,top:"header"===b,width:k||"fixed"!==z?void 0:"100%",zIndex:F?void 0:S,children:(0,h.jsx)(o.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:G,paddingLeft:A||!J||j?void 0:"8px",paddingRight:A&&J&&!j?"8px":void 0,...X,boxShadow:R&&"footer"===b?`0 10px 0 0 ${G}, ${c.KJ}`:Y,marginBottom:k&&!C?.docked?16:void 0,...P?{pointerEvents:"auto"}:Object.freeze({}),...i?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:k||t?.alignCenter?"flex":void 0,marginEnd:k?"auto":void 0,marginStart:k?"auto":void 0,paddingX:_||4*("footer"===b&&!y)+W,paddingY:D,position:"relative",rounding:k&&!C?.docked?"pill":void 0,width:C?C.footerWidth:B?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:x}):e})})}},271202:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var r=i(686659),n=i(667294),o=i(740097),l=i(178315),a=i(446885),s=i(763904),d=i(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:c,isTransparentBackground:u,noGutter:p,overrideTop:h,useRoundedCorners:f,zIndexForGestaltBug:g,isStoryPin:m,...x}){(0,n.useEffect)(()=>{(0,r.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:w,paddingY:y=l.og,zIndex:_}=x;return(0,d.jsx)(o.Le,{height:t?l.LV+2*(w?0:y)*4:void 0,top:h||0,zIndex:_||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:x.hideOnScroll,children:r=>(0,d.jsx)(a.Z,{...x,headerConfig:{isTranslucent:c,isTransparentBackground:u,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:p,overrideTop:h,zIndexForGestaltBug:g,useRoundedCorners:f},hideOnScrollState:r,isStoryPin:m,type:"header"})})})}},763904:function(e,t,i){i.d(t,{Z:()=>l});var r=i(667294),n=i(730448);function o(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends r.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),o(this,"handleScroll",(0,n.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state,r=window.scrollY,n=r-this.lastScrollPos,o="none",{scrollHeight:l,clientHeight:a}=document.documentElement||{};Number.isNaN(l)||Number.isNaN(a)||(o=n<0?r<=Math.abs((window.scrollMinY||0)+Math.max(n,20))?"start":"none":r>=(window.scrollMaxY||l-a)-Math.max(n,20)?"end":"none");let s=55*!t?.isModal;e?n>20&&i&&r>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20&&!i||r<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===o&&!i||r<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(r>s||"end"===o)&&i&&(this.updateHiddenState(!1),t?.onScroll(!1)):(n<-20||"start"===o)&&i||r<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(n>20||"end"===o)&&!i&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=r},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t?.forceShow&&i,updateHiddenState:this.updateHiddenState})}}},619481:function(e,t,i){i.d(t,{Z:()=>a});var r=i(667294),n=i(581722),o=i(629972),l=i(487038);function a(e){let{name:t,optionsKey:i}=e,a=t===o.fY,s=(0,l.MA)(),d=s?.get(t,i);if(d)throw d;let c=e=>e[t]?.[i],u=(0,n.v9)(({resources:e})=>c(e)?.nextBookmark),p=(0,n.v9)(({resources:e})=>c(e)?.data),h=(0,n.v9)(({resources:e})=>c(e)?.auxData),f=(0,n.v9)(({resources:e})=>c(e)?.error),g=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(a)return g.current;let m={auxData:h,data:p,error:f,isAtEnd:u===o.qx,nextBookmark:u};return(m.auxData!==g.current.auxData||m.data!==g.current.data||m.error!==g.current.error||m.isAtEnd!==g.current.isAtEnd||m.nextBookmark!==g.current.nextBookmark)&&(g.current=m),g.current}},735403:function(e,t,i){i.d(t,{Z:()=>n});var r=i(900946);function n(e){let{enteredQuery:t,filters:i,guideAdded:n,query:o,requestParams:l,rs:a,scope:s,selectedOneBarModules:d,user:c,inlineSuggestion:u}=e;if(!o)return"/";let p={q:o,rs:a,...l};if(i&&(p.filters=i),c&&(p.user=c),d&&(p.selected_one_bar_modules=d),n&&n.term&&(p.add_refine=`${n.term}|guide|word|${n.index}`),t&&(p.entered_query=t),u&&(p.inline_suggestion=u),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.Z)(p)}`;let h=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(h??"")||(h="pins"),h?`/search/${h}/?${(0,r.Z)(p)}`:`${window.location.pathname}?${(0,r.Z)(p)}`}},954928:function(e,t,i){i.d(t,{Z:()=>r});let r=(e,t)=>{let i=new URL(e,"https://pinterest.com");return i.search=new URLSearchParams(t).toString(),i.toString().substring(i.origin.length)}},610142:function(e,t,i){i.d(t,{Zt:()=>M,iK:()=>W,ZP:()=>q});var r=i(686659),n=i(667294),o=i(581722),l=i(312048),a=i(740097),s=i(753806),d=i(261954),c=i(309947),u=i(806513),p=i(24246),h=i(906127),f=i(774838),g=i(619481),m=i(661376),x=i(70625),w=i(739405),y=i(662911);let _=new Map;var v=i(31425),b=i(596663),S=i(471310),j=i(989045),I=i(966039),T=i(759302),P=i(285676),Z=i(956701),F=i(914253),E=i(836643),k=i(645479),C=i(633101),B=i(734802),L=i(589247),O=i(384296),A=i(9065),R=i(785893);function N(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let H=(0,A.Z)(()=>i.e("65300").then(i.bind(i,827555)),void 0,e=>827555,"app-www-businessNux-BizNuxHomefeedLoader",e=>["65300"]),z=(0,A.Z)(()=>i.e("68443").then(i.bind(i,173842)),void 0,e=>173842,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["68443"]);class D extends n.PureComponent{constructor(...e){super(...e),N(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,I.HW)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),N(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),N(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),N(this,"gridContainerRef",(0,n.createRef)()),N(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:r,performanceOptimization:n,showSeoMetadata:o,surface:l,trafficSource:a}=this.props,{auxData:s,componentType:d,feedback:c,imageOnly:u,impressionData:p,objectIdStr:h,oneTapSave:f,onFeedItemClick:g,onPinLinkClick:m,shouldAllowProductPriceIndicator:x,showSeoMetadata:w,viewData:y,viewParameter:_,viewType:v}=i||{},b=(r.search||"").includes("force_seo"),S=!!n?.lazyLoadBelowFoldIndex&&t>n.lazyLoadBelowFoldIndex,j=!!n?.priorityFetchAboveFoldIndex&&t<=n.priorityFetchAboveFoldIndex;return(0,R.jsx)(P.Z,{auxData:s,componentType:d||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:m,showSeoMetadata:o||b||w},duploLazyLoadImage:S,duploOneTapSave:f,duploPriorityFetchImage:j,duploQueryRef:null,duploShouldAllowProductPriceIndicator:x,feedback:c,imageOnlyOption:u?"image-only":"default",impressionData:p,objectIdStr:h,pinId:e.id,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:l,trackingParams:e.trackingParams,trafficSource:a,viewData:y,viewParameter:_,viewType:v||1})}),N(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),N(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:i}=this.props,r=this.getBoardId(),n="board"===i&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&r?e(r):null;return n?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,v.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,v.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:n}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),n&&i){let t=n({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:i,experimentalGutter:r,feedItemProps:o,feedItems:l,feedItemsAdjustment:c,feedKey:p,feedStoryId:f,getColumnSpanConfig:g,gridConfig:m,i18n:w,pageSize:_,pagination:v,pullToRefresh:I,renderFeedItem:P,serverRender:Z,showBizNuxHomefeedLoader:F,trafficSource:E,visuallyCompleteProfilerOptions:A,isLoadingStateEnabled:N,initialLoadingStatePinCount:D,isLoadingAccessibilityLabel:M,isLoadedAccessibilityLabel:$}=this.props,{unauthLandingPinStateForAuthHomefeed:W}=this.state,K=W?.feedItem&&l.length?[W.feedItem,...l]:l,{viewParameter:U,viewType:q}=o||{},{gridMeasurementKey:Y}=m||{},V=p+(Y?`|${Y}`:""),G="user_search"===E,X=G?window.innerWidth-16:void 0,J=K.some(e=>"board"===e.type),Q={columnWidth:(0,b.SY)({deviceType:e,customMWebColumnWidth:X,experimentalColumnWidth:J?236:i}),renderItem:({data:e,itemIdx:t})=>{if(P){let i=P(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,R.jsx)(k.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,R.jsx)(O.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:G,viewParameter:U,viewType:q});case"board":let i=this.props.getReduxBoard(e.id);return(0,R.jsx)(y.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:U,viewType:q});case"topic":return(0,R.jsx)(B.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:U,viewType:q});case"story":if("number"==typeof U)return(0,R.jsx)(C.Z,{slotIndex:t,storyId:e.id,viewParameter:U,viewType:q||1});return null;case"FEED_BREAK_IN":return c&&"breakIn"===c.type&&c.value.content;default:return null}},gutterWidth:(0,b.s)({experimentalGutter:r,trafficSource:E,deviceType:e}),loadItems:v.loadNext,minCols:G?1:2,...m},ee=!F&&v.isLoadingNext&&0===K.length&&!this.state.refreshing&&!N,et=_&&25>parseInt(_,10),ei=c?.type==="fullWidthBreakIn"?[{type:"feed",id:`${V}_feed_0`,item:K.slice(0,c.value.index)},{type:"fullWidthBreakIn",id:`${V}_break_in_0`,item:c.value.content},{type:"feed",id:`${V}_feed_1`,item:K.slice(c.value.index)}]:[{type:"feed",id:V,item:K}],er="desktop"===e,en=er&&"flashlight"===E,eo=en?0:u.qG;return(0,R.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,R.jsx)(S.Z,{auxData:o?.auxData||null,enabled:!!I,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:o?.viewParameter||null}),(0,R.jsxs)(a.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:eo,marginStart:eo,opacity:this.state.refreshing?.5:1,children:[(0,R.jsxs)(h.Z,{includeBackgroundImages:A?.includeBackgroundImages,includeVideos:A?.includeVideos,isAtEndOfFeed:!v.hasNext,isPlaceholderGrid:N&&v.isLoadingNext&&!K.length,itemCount:K.length,pinData:A?.pins,children:[K.length||N&&v.isLoadingNext?(0,R.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,b.kk)({isDesktop:er}),children:(0,R.jsx)(x.Z.Consumer,{children:e=>(0,R.jsx)(n.Fragment,{children:(0,R.jsx)(L.Z,{children:ei.map(t=>"feed"===t.type?(0,R.jsx)(d.default,{cacheKey:V,getColumnSpanConfig:g,id:Z?p:void 0,initialLoadingStatePinCount:D,isFetching:v.isLoadingNext,isLoadedAccessibilityLabel:$??"",isLoadingAccessibilityLabel:M??"",isLoadingStateEnabled:!!N,items:t.item,scrollContainerRef:e,serverRender:Z,...Q},t.id):"fullWidthBreakIn"===t.type?(0,R.jsx)(a.xu,{children:t.item},t.id):null)})})})}):v.isLoadingNext?(0,R.jsx)(j.Z,{}):t??null,v.isLoadingNext&&"board"===E&&et&&!N&&(0,R.jsx)(a.xH,{accessibilityLabel:w._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),ee&&(0,R.jsx)(a.xu,{column:12,paddingY:2,children:(0,R.jsx)(T.Z,{partialViewportWidth:en})}),F&&(0,R.jsx)(H,{gridContainerRef:this.gridContainerRef,homefeedLoading:v.isLoadingNext}),!er&&!v.hasNext&&(0,R.jsx)(s.b9,{placementId:1000251}),f&&!this.hideMoreIdeas()&&(0,R.jsx)(a.xu,{marginBottom:6,children:(0,R.jsx)(z,{storyId:f})})]})]})}}function M({feedItems:e,pagination:t,...i}){(0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:a}=i,s=(0,l.TH)(),d=(0,w.ZP)(),u=(0,p.Z)(),{isAuthenticated:h,isBot:g}=(0,f.B)(),{isBizNuxHomefeedLoadShown:m}=(0,o.v9)(({session:e})=>e),x=e;a?.type==="breakIn"&&(x=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=_.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return _.set(e,i),i})(e),...t.slice(e)])({items:e,breakIn:a.value}));let{experimentalColumnWidth:y,experimentalGutter:v}=(0,c.Z)(),b=(0,F.gC)();return(0,R.jsx)(D,{...i,deviceType:d,experimentalColumnWidth:y,experimentalGutter:v,feedItems:x,getReduxBoard:b,i18n:u,isAuthenticated:h,location:s,pagination:t,showBizNuxHomefeedLoader:!!m,showSeoMetadata:g||!h})}function $({isAtEnd:e,isFetching:t,fetchMore:i,refresh:r,...n}){let l=(0,o.v9)(({feeds:e})=>e[n.feedKey]??[]),a=(0,o.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,E.Z)(l,a),c=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),u=(0,o.I0)();return(0,R.jsx)(M,{...n,featuredBoardStoryId:s,feedItems:l,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>{c?u((0,Z.H5)(!1)):r()}}})}function W({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:o},...l}){return(0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),(0,R.jsx)($,{...l,fetchMore:i,isAtEnd:e,isFetching:t,refresh:o})}function K({resourceConfig:e,...t}){let i=(0,m.Z)(e);return(0,R.jsx)(W,{...t,resource:i})}function U({resourceRef:e,fetchMore:t,refresh:i,...r}){let{isAtEnd:n}=(0,g.Z)(e);return(0,R.jsx)($,{...r,fetchMore:t,isAtEnd:n,isFetching:!1,refresh:i})}function q({resourceConfig:e,resourceRef:t,fetchMore:i,refresh:o,...l}){return((0,n.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),t)?(0,R.jsx)(U,{...l,fetchMore:i??(()=>{}),refresh:o??(()=>{}),resourceRef:t}):(0,R.jsx)(K,{...l,resourceConfig:e})}},31425:function(e,t,i){i.d(t,{IA:()=>o,cV:()=>n,do:()=>l});let r={},n=e=>{r[e]&&r[e].handlePullToRefresh()},o=(e,t)=>{r[e]=t},l=e=>{delete r[e]}},515158:function(e,t,i){i.d(t,{Z:()=>s});var r=i(686659),n=i(667294),o=i(740097),l=i(440077),a=i(785893);function s({children:e,color:t,isDarkMode:i,outlined:s,type:d="bold",rounding:c=4}){return(0,n.useEffect)(()=>{(0,r.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,a.jsxs)(o.xu,{position:"relative",children:[(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:c,children:e}),s&&(0,a.jsx)(o.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:i}){let r=t?"#fff":"#000",n=t?"#000":"#fff";return"solid"===i?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===i?{border:`1px solid ${e??l.v$5}`,boxShadow:`inset 0 0 0 1px ${l.z6F}`,WebkitBoxShadow:`inset 0 0 0 1px ${l.z6F}`,MozBoxShadow:`inset 0 0 0 1px ${l.z6F}`}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${n}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${n}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${n}`}}({color:t,isDarkMode:i,type:d})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:c,top:!0})]})}},148:function(e,t,i){i.d(t,{n:()=>p,v:()=>h});var r=i(667294),n=i(312048),o=i(213491),l=i(477738),a=i(739405),s=i(582610),d=i(305375),c=i(785893);let{Provider:u,get:p}=(0,o.Z)("SearchParams"),h=({children:e,value:t})=>{let i=function(){let e=(0,a.HG)(),{search:t,pathname:i}=(0,n.TH)(),{scope:r}=(0,d.Z)(),o=!r&&i.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:o?l.lw.SHOP_TOOL:r,search:t})}(),o=(0,r.useMemo)(()=>({...i,...t}),[i,t]);return(0,c.jsx)(u,{value:o,children:e})}},261926:function(e,t,i){i.d(t,{CT:()=>r,HE:()=>n,Mq:()=>o,ti:()=>l});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},n={CLOSEUP:"closeup"},o={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},l={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},775907:function(e,t,i){i.d(t,{Z:()=>s});var r=i(686659),n=i(667294),o=i(740097),l=i(351736),a=i(785893);function s({color:e,image:t,isSelected:i,title:s}){(0,n.useEffect)(()=>{(0,r.Z)("PillRep","/app/www/nux/PillRep.tsx")},[]);let d=(0,l.vs)();return(0,a.jsxs)(o.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:d?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,a.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,a.jsx)(o.xu,{marginEnd:3,marginStart:2,children:(0,a.jsx)(o.xv,{color:i?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},582610:function(e,t,i){i.d(t,{Z:()=>o});var r=i(477738),n=i(575820);function o({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:o="",b_id:l,brands:a,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:h,filters:f,guided_search_query:g,inline_suggestion:m,interest_id:x,journey_depth:w,on_sale:y,price_max:_,price_min:v,q:b,query_pin_sigs:S,request_params:j,rs:I,selected_one_bar_modules:T,source_id:P,source_module_id:Z,tab:F,top_pin_ids:E,user:k}=(0,n.mB)(i),C="true"===c.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===o.toLowerCase(),brands:a,bubbleId:l,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:f,debD:p,domains:h,guidedSearchQuery:g,inlineSuggestion:m,interestId:x,journeyDepth:w?parseInt(w,10):void 0,onSale:y,personalizationPinSig:S,placementId:(0,r.Hd)(C,e),priceMax:_,priceMin:v,query:b,requestParams:j,rs:I,scope:C,selectedOneBarModules:T,sourceId:P,sourceModuleId:Z,tab:F||"",topPinIds:E,user:k,viewParameter:(0,r._R)(C),viewType:C===r.lw.SHOP_TOOL?1:2}}},199024:function(e,t,i){i.d(t,{ZN:()=>l,fv:()=>a,hr:()=>o,lD:()=>s});var r=i(27399);function n(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),l=(e,t,i)=>async r=>{r(o(e,!0));try{await n(e,i).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(o(e,!1))}},a=(e,t,i)=>async r=>{r(o(e,!1));try{await n(e,i).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(o(e,!0))}},s=(e,t="")=>i=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];i(o(t,r))})})},219043:function(e,t,i){i.d(t,{Z:()=>p});var r=i(686659),n=i(667294),o=i(740097),l=i(320197),a=i(609252),s=i(936367),d=i(986475),c=i(640200),u=i(785893);function p({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:i,showProductFilters:p=!1}){(0,n.useEffect)(()=>{(0,r.Z)("OneBar","/app/www/search/OneBar.tsx")},[]);let h=(0,n.useRef)(null),f=(0,n.useRef)(null),g=(0,n.useRef)(null),[m,x]=(0,n.useState)(0),w=e.map(e=>(0,d.Z)(c.Z,!0)(e));!function({pillsRef:e,oneBarModules:t,latestSelectedGuideX:i,setLatestSelectedGuideX:r}){(0,n.useEffect)(()=>{if(0!==i)return;let n=t.findIndex(e=>e.display?.isSelected);if(-1===n)return;let o=e.current;if(!o)return;let{children:l,clientWidth:a}=o,s=Array.from(l).slice(0,n+1).reduce((e,t)=>e+t.offsetWidth,0);s>a&&r(s)},[i,t,e,r])}({pillsRef:g,oneBarModules:w,latestSelectedGuideX:m,setLatestSelectedGuideX:x}),(0,n.useEffect)(()=>{setTimeout(()=>{f.current?.scrollTo({top:0,left:m,behavior:"smooth"})},1e3)},[m]);let y=new s.ZP;return(0,n.useEffect)(()=>{let e=h.current;return e&&a.Z.addObstruction("top",e),()=>{e&&a.Z.removeObstruction("top",e)}}),(0,u.jsx)(o.xu,{ref:h,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(o.xu,{ref:f,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(o.kC,{ref:g,gap:1,maxWidth:"100%",children:w.map((e,r)=>(0,u.jsx)(l.Z,{hasProductFiltersApplied:t,impressionsFramework:y,index:r,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{p&&i?.(!0)},setLatestSelectedGuideX:x,showMWebProductFilters:p},`OneBarModule-${e.id||""}`))})})})}},164116:function(e,t,i){i.d(t,{Z:()=>p});var r=i(686659),n=i(667294),o=i(740097),l=i(104999),a=i(24246),s=i(49439),d=i(810752),c=i(413073),u=i(785893);function p({navigate:e,placeholder:t,query:i="",scope:p,shouldInputFocusOnTouch:h=!1,shownQuery:f,type:g="default",viewParameter:m,viewType:x}){(0,n.useEffect)(()=>{(0,r.Z)("SearchBar","/app/www/search/SearchBar.tsx")},[]);let w=(0,a.Z)(),y=(0,c.U)(),_=(0,l.Z)();(0,n.useEffect)(()=>{y&&setTimeout(()=>{y.preload?.((0,d.ke)("search.js"))},500)},[]);let v={default:{label:w._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===w.getLocaleData().locale.split("-")[0]?w._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):w._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},b=t||v[g].label;return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(o.xu,{display:"visuallyHidden",children:i&&(0,u.jsx)(o.qd,{accessibilityLevel:2,children:i})}),(0,u.jsx)(o.iP,{accessibilityLabel:w._('Open Search Field', 'SearchBar.TapArea.accessibilityLabel', 'Accessibility label for search bar tap area'),dataTestId:"searchBarPlaceholder",onTap:()=>(()=>{let t=v[g].path;return _({component:43,element:227,event_type:102,aux_data:{entered_query:i},view_parameter:m,view_type:x}),e((0,s.Z)({query:i,searchPath:t,scope:p,shouldInputFocusOnTouch:h}))})(),rounding:4,children:(0,u.jsx)(o.Um,{accessibilityLabel:"",autoComplete:"off",id:"SearchPage.SearchInput",onChange:()=>{},placeholder:b,readOnly:!0,size:"lg",tabIndex:-1,value:i&&(f??i)})})]})}},85310:function(e,t,i){i.d(t,{Z:()=>v});var r=i(667294),n=i(581722),o=i(740097),l=i(470205),a=i(825605),s=i(739405),d=i(686659),c=i(312048),u=i(230201),p=i(79271),h=i(575820),f=i(516420),g=i(785893);let m=({componentType:e,contextLogData:t,article:i,slotIndex:r,viewParameter:n,viewType:l,width:a})=>{let{action:s,content_type:d,cover_images:c,dominant_colors:h,id:f,title:m}=i,x=c?.[0],w=!!x&&("user"===d?x["150x150"]?.url||x["90x90"]?.url:x["236x"]?.url||x["474x"]?.url),{logContextEvent:y}=(0,u.u)(),_=(0,p.ZP)({componentType:e||void 0,contextLogData:t,impressionType:"Article",loggingId:f,slotIndex:r,viewParameter:n,viewType:l});return(0,g.jsx)(o.xu,{ref:_,paddingX:1,width:a,children:(0,g.jsx)(o.st,{children:(0,g.jsx)(o.Tg,{href:s?.url??"",onTap:()=>{y({aux_data:t,component:e,event_type:102,view_parameter:n,view_type:l})},rounding:4,children:(0,g.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:"circle",children:(0,g.jsx)(o.zd,{height:a,rounding:"circle",wash:!0,width:a,children:w&&(0,g.jsx)(o.Ee,{alt:m.format,color:h[0],fit:"cover",naturalHeight:1,naturalWidth:1,src:w})})}),(0,g.jsx)(o.xv,{align:"center",lineClamp:2,weight:"bold",children:m.format})]})})})})};function x({componentType:e,slot:t,story:i,viewParameter:l,viewType:a}){(0,r.useEffect)(()=>{(0,d.Z)("ExploreByXStory","/app/www/ExploreByXStory.tsx")},[]);let{title:s,objects:u,id:x,story_type:w}=i,{q:y}=(0,h.mB)((0,c.TH)().search),_={grid_index:t,story_id:x,story_type:w,...(0,f.Z)({query:y})},v=(0,p.ZP)({componentType:e||void 0,contextLogData:_,impressionType:"Story",loggingId:x,slotIndex:t,viewParameter:l,viewType:a}),b=(0,n.v9)(({articles:e})=>u?.map(t=>e[t.id||""])||[]),S=(window.innerWidth-8)/3-8;return(0,g.jsx)(o.xu,{ref:v,marginBottom:2,marginTop:2,paddingX:1,width:"100%",children:(0,g.jsxs)(o.kC,{direction:"column",gap:{row:0,column:4},children:[(0,g.jsx)(o.qd,{align:"center",size:"400",children:s?.format}),(0,g.jsx)(o.kC,{justifyContent:"between",wrap:!0,children:b.map(i=>(0,g.jsx)(m,{article:i,componentType:e,contextLogData:_,slotIndex:t,viewParameter:l,viewType:a,width:S},i.id))})]})})}var w=i(237103);let y=(0,r.lazy)(()=>Promise.resolve().then(i.bind(i,978387))),_=["search_article_landing_page_more_ideas_header","search_explore_by_attributes","search_explore_by_brand","search_explore_by_category"];function v({resultsFeed:e,setShowOneBar:t}){let i=(0,s.HG)();return(0,n.v9)(({stories:r,articles:n})=>{if(i)return null;let s=Array.isArray(e)&&e.length>0?e.findIndex(e=>"story"===e.type&&_.includes(r[e.id].story_type||"")):-1;if(s<=0)return null;let d=r[e[s].id],c="search_explore_by_brand"===d.story_type,u="search_article_landing_page_more_ideas_header"===d.story_type,p={componentType:d.display_options?.content_display?.component_type,slot:s,story:d,viewParameter:43,viewType:2};if(c){let e={...d,objects:d.objects?.map(e=>n[e.id||""])};return{content:(0,g.jsx)(l.Z,{name:"SafeSuspense_StructuredFeedStoryModule",children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(y,{...p,story:e,storyKey:{type:"Legacy",data:e}})})}),index:s}}return u?{content:(0,g.jsx)(o.xu,{marginBottom:4,children:(0,g.jsx)(w.Z,{setShowOneBar:t,storyId:d.id||""})}),index:s}:{content:(0,g.jsx)(x,{...p}),index:s}})}},49439:function(e,t,i){i.d(t,{Z:()=>n});var r=i(405897);function n({query:e,searchPath:t,scope:i,shouldInputFocusOnTouch:n}){let o=e?`${t}?rs=${r.i.TYPED}&q=${encodeURIComponent(e)}&scope=${i||""}`:t;return n&&(o=`${o}${"/"===o.charAt(o.length-1)?"?":"&"}input_select=true`),o}},237103:function(e,t,i){i.d(t,{Z:()=>u});var r=i(686659),n=i(667294),o=i(581722),l=i(740097),a=i(730448),s=i(551523),d=i(739405),c=i(785893);function u({storyId:e,setShowOneBar:t}){(0,n.useEffect)(()=>{(0,r.Z)("HeaderSection","/app/www/todayTab/duplo/HeaderSection.tsx")},[]);let i=(0,d.HG)(),u=(0,o.v9)(({stories:t})=>t[e]),p=(0,n.useRef)(null),h="search_article_landing_page_more_ideas_header"===u.story_type;return(0,n.useEffect)(()=>{let e=(0,a.Z)(()=>{let e=p.current?.getBoundingClientRect().top;t&&"number"==typeof e&&t(e<=100)},100);return t&&p.current&&window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[p,t]),(0,c.jsx)(l.xu,{ref:h?p:null,"data-test-id":u.story_type,marginTop:4,padding:i?4:void 0,width:i?s.lV:"100%",children:(0,c.jsxs)(l.kC,{direction:"column",justifyContent:"center",children:[u.title&&u.title.format&&(0,c.jsx)(l.qd,{accessibilityLevel:2,align:"center",size:i?"600":"400",children:u.title.format}),u.subtitle&&u.subtitle.format&&(0,c.jsx)(l.xv,{overflow:"normal",size:"300",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1.5}},marginStart:i?void 0:1,marginTop:3,children:u.subtitle.format})})]})})}},734802:function(e,t,i){i.d(t,{Z:()=>T});var r,n,o=i(686659),l=i(667294),a=i(581722),s=i(167912),d=i(740097),c=i(104999),u=i(774838),p=i(338065),h=i(199024),f=i(24246),g=i(720459),m=i(775907),x=i(785893);let w=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:n,locale:o,nameTextSize:l,renderAsPill:a,showFollowerCount:s,topicName:c,followerCount:u,image:p})=>{let h=(0,f.Z)(),w=(0,g.Z)(),y=(0,x.jsx)(d.JO,{accessibilityLabel:h._('Selected', ' - ', ' -- '),color:"light",icon:r?"check":"check-circle",size:r?12:24});return a?(0,x.jsx)(m.Z,{color:e||"#767676",image:p,isSelected:n??!1,title:c}):(0,x.jsxs)(d.xu,{"aria-selected":n,position:"relative",children:[(0,x.jsx)(d.zd,{rounding:r||i?4:2,children:(0,x.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,x.jsx)(d.xu,{bottom:!0,left:!0,padding:r&&n?1:0,position:"absolute",right:!0,rounding:r&&n?4:0,top:!0,children:p.url&&(0,x.jsx)(d.Ee,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&n?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?4:void 0,top:!0}),r&&n&&(0,x.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,x.jsx)(d.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(d.xv,{align:"center",color:"light",size:l,weight:"bold",children:c})}):(0,x.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,x.jsx)(d.xv,{color:"light",size:l,weight:"bold",children:c}),s&&u>=0&&(0,x.jsx)(d.xu,{paddingY:1,children:(0,x.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,x.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:w(o,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),h._('followers', ' - ', ' -- ')]})})]}),n&&(0,x.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,x.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:y}):y})]})},y=(void 0!==r||(r=i(654471)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),_=({topicRef:e,...t})=>{(0,l.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=(0,s.useFragment)(y,e),r=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,x.jsx)(w,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:r,topicName:i.name??"",...t})},v=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...r})=>{(0,l.useEffect)(()=>{(0,o.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let n=i||e||t,a=n?.images?.["236x"]||n?.images?.["400x"]||n?.images?.["474x"]||n?.images?.orig||{height:1,url:"",width:1},s=n&&"follower_count"in n&&void 0!==n.follower_count?n.follower_count:-1;return(0,x.jsx)(w,{backgroundColor:n?.background_color||"",followerCount:s,image:a,topicName:n?.name||"",...r})},b=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,nameTextSize:n="lg",onTouch:o,padding:l=2,renderAsPill:s,showFollowButton:f=!1,showFollowerCount:g=!1,shouldClickthrough:m=!1,topic:w,viewParameter:y,viewType:b})=>{let S=(0,a.I0)(),j=(0,c.Z)(),{locale:I}=(0,u.B)(),T=(0,x.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==w.type?(0,x.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:I,nameTextSize:n,renderAsPill:s,showFollowerCount:g,topic:w.topic,topicBlob:w.topicBlob,topicInfoForContextualExp:w.topicInfoForContextualExp}):(0,x.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:I,nameTextSize:n,renderAsPill:s,showFollowerCount:g,topicRef:w.topicRef}),!!w&&f&&(0,x.jsx)(d.xu,{paddingY:2,children:(0,x.jsx)(p.Z,{followEventType:601,id:w.id,inline:t,invertColors:t,isFollowed:w.is_followed,onFollow:e=>S((0,h.ZN)(e,j)),onUnfollow:e=>S((0,h.fv)(e,j)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:y||void 0,viewType:b||void 0})})]}),P="/";return w&&(P=`/topics/${w.id}`),m&&w.slug?(0,x.jsx)(d.Tg,{href:P,onTap:({event:e})=>{o?.(e)},rounding:2,tapStyle:"compress",children:(0,x.jsx)(d.xu,{padding:l,children:T})}):T},S=(void 0!==n||(n=i(176923)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==n.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),j=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:r,isSelected:n=!1,nameTextSize:o="lg",onTouch:l,padding:a=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:f})=>{let g=(0,s.useFragment)(S,e);return(0,x.jsx)(b,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:n,nameTextSize:o,onTouch:l,padding:a,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topic:{id:g.entityId??"",type:"graphql",is_followed:g.is_followed??!1,topicRef:g},viewParameter:h,viewType:f})},I=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:r,decreaseNamePadding:n=!1,isHomefeedTuner:o,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:p,showFollowButton:h=!1,showFollowerCount:f=!1,shouldClickthrough:g=!1,viewParameter:m,viewType:w})=>{let y=(0,a.v9)(({topics:t})=>t[e]),_=t??y;return(0,x.jsx)(b,{decreaseNamePadding:n,isHomefeedTuner:o,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:p,shouldClickthrough:g,showFollowButton:h,showFollowerCount:f,topic:{id:e,is_followed:!!_?.is_followed,topic:_,topicBlob:i,topicInfoForContextualExp:r,type:"resource"},viewParameter:m,viewType:w})},T=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,nameTextSize:n="lg",onTouch:a,padding:s=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:h,viewType:f,...g})=>((0,l.useEffect)(()=>{(0,o.Z)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),g.topicRef?(0,x.jsx)(j,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,nameTextSize:n,onTouch:a,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topicRef:g.topicRef,viewParameter:h,viewType:f}):(0,x.jsx)(I,{decreaseNamePadding:e,id:g.id,isHomefeedTuner:t,isLego:i,isSelected:r,nameTextSize:n,onTouch:a,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:c,showFollowerCount:u,topic:g.topic,topicBlob:g.topicBlob,topicInfoForContextualExp:g.topicInfoForContextualExp,viewParameter:h,viewType:f}))},413073:function(e,t,i){i.d(t,{U:()=>o,Z:()=>l});var r=i(667294);let n=(0,r.createContext)();function o(){return(0,r.use)(n)}let l=n}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34038-ec4a6bf2d55e8ade.mjs.map